---
title: "Mini-Project 2"
author: "Liu Sifan & Ziheng Ru & Runxin Wang"
date: "October 31, 2017"
output: html_document
---


```{r}
library(dplyr)
library(tidyverse)
```

```{r}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```

```{r}
house_elections <-
  rename(house_elections, cand_name = candidate_name )
```

```{r}
Fl_winner <- house_elections %>%
  filter(state == "FL") %>%
  filter(ge_winner == "W") %>%
  filter(party == "R"| party == "D")
List_winner1 <- Fl_winner %>%
  select("cand_name","fec_id") %>%
  rename("cand_id"="fec_id")
List_winner1
```



```{r}
FL_win <- Fl_winner %>%
  summarise(N = n(),
            r = sum(party == "R")) %>%
  mutate(r_percentage = r/N)
FL_win
```

```{r}
committees_contribution <- committees %>%
  left_join(contributions, by = "cmte_id")
```

```{r}
committees_contribution <- committees_contribution %>%
  rename( cand_id = cand_id.y)
```

```{r}
committees_contribution_2 <- committees_contribution %>%
  right_join(candidates, by = "cand_id")
```

```{r}
FL_dataset <- committees_contribution_2 %>%
  right_join(List_winner1, by="cand_id")
FL_dataset
```
